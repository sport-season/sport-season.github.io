(this["webpackJsonpstravastat.github.io"]=this["webpackJsonpstravastat.github.io"]||[]).push([[0],[,,,,,function(e,t,n){e.exports={chartSection:"styles_chartSection__3D3w5",chartSectionHeader:"styles_chartSectionHeader__1h_pL",chart:"styles_chart__1fr1I",daysName:"styles_daysName__JkWod",main:"styles_main__1F0ux",container:"styles_container__30do-",empty_point:"styles_empty_point__1_hCh",point:"styles_point__3-Aw6",monthsBar:"styles_monthsBar__oD7KP",month:"styles_month__2TdZt",m1:"styles_m1__1U8OE",m2:"styles_m2__QQF5g",m3:"styles_m3__2W_fr",m4:"styles_m4__26BIj",m5:"styles_m5__6bCBt",m6:"styles_m6__21a6a"}},,,function(e,t,n){e.exports={form:"styles_form__3tUJe",dates:"styles_dates__1_z2B",floatButton:"styles_floatButton__1u2k3",rotation:"styles_rotation__3YMpG",loader:"styles_loader__OZ8B8"}},,,,function(e,t,n){e.exports={header:"styles_header__1O5zU",menu:"styles_menu__12zhE",content:"styles_content__3jGXF",footer:"styles_footer__2NuR6"}},,,function(e,t,n){e.exports={ava:"styles_ava__3YR7H",prof:"styles_prof__3vmCY",name:"styles_name__hiv1W"}},function(e,t,n){e.exports={card:"styles_card__2PnlW",cardTitle:"styles_cardTitle__2RYCP",cardContent:"styles_cardContent__2P7Js"}},function(e,t,n){e.exports={header:"styles_header__1DZjb",menu:"styles_menu__fW9GW",content:"styles_content__3bbEM",footer:"styles_footer__suOHF"}},function(e,t,n){e.exports={header:"styles_header__11ejz",menu:"styles_menu__1fxnY",content:"styles_content__Lv9gm",footer:"styles_footer__3UWIN"}},,function(e,t,n){e.exports={item:"styles_item__2VYFB",row:"styles_row__c1fPJ"}},function(e,t,n){e.exports={overlay:"styles_overlay__2XvFz",modal:"styles_modal__2KEOL"}},,,function(e,t,n){e.exports={widgetContainer:"style_widgetContainer__1OWol"}},function(e,t,n){e.exports={loader:"styles_loader__L5roB","sk-chase":"styles_sk-chase__3sk3Y","sk-chase-dot":"styles_sk-chase-dot__2BJc1","sk-chase-dot-before":"styles_sk-chase-dot-before__2wf3h"}},function(e,t,n){e.exports={fullScreen:"styles_fullScreen__22uDo"}},,,,,,,,function(e,t,n){},,function(e,t,n){},,,function(e,t,n){!function(t){var r;e.exports=((r=n(7)).Control.Fullscreen=r.Control.extend({options:{position:"topleft",title:{false:"View Fullscreen",true:"Exit Fullscreen"}},onAdd:function(e){var t=r.DomUtil.create("div","leaflet-control-fullscreen leaflet-bar leaflet-control");return this.link=r.DomUtil.create("a","leaflet-control-fullscreen-button leaflet-bar-part",t),this.link.href="#",this._map=e,this._map.on("fullscreenchange",this._toggleTitle,this),this._toggleTitle(),r.DomEvent.on(this.link,"click",this._click,this),t},_click:function(e){r.DomEvent.stopPropagation(e),r.DomEvent.preventDefault(e),this._map.toggleFullscreen(this.options)},_toggleTitle:function(){this.link.title=this.options.title[this._map.isFullscreen()]}}),r.Map.include({isFullscreen:function(){return this._isFullscreen||!1},toggleFullscreen:function(e){var t=this.getContainer();this.isFullscreen()?e&&e.pseudoFullscreen?this._disablePseudoFullscreen(t):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this._disablePseudoFullscreen(t):e&&e.pseudoFullscreen?this._enablePseudoFullscreen(t):t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.msRequestFullscreen?t.msRequestFullscreen():this._enablePseudoFullscreen(t)},_enablePseudoFullscreen:function(e){r.DomUtil.addClass(e,"leaflet-pseudo-fullscreen"),this._setFullscreen(!0),this.fire("fullscreenchange")},_disablePseudoFullscreen:function(e){r.DomUtil.removeClass(e,"leaflet-pseudo-fullscreen"),this._setFullscreen(!1),this.fire("fullscreenchange")},_setFullscreen:function(e){this._isFullscreen=e;var t=this.getContainer();e?r.DomUtil.addClass(t,"leaflet-fullscreen-on"):r.DomUtil.removeClass(t,"leaflet-fullscreen-on"),this.invalidateSize()},_onFullscreenChange:function(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;t!==this.getContainer()||this._isFullscreen?t!==this.getContainer()&&this._isFullscreen&&(this._setFullscreen(!1),this.fire("fullscreenchange")):(this._setFullscreen(!0),this.fire("fullscreenchange"))}}),r.Map.mergeOptions({fullscreenControl:!1}),r.Map.addInitHook((function(){var e;if(this.options.fullscreenControl&&(this.fullscreenControl=new r.Control.Fullscreen(this.options.fullscreenControl),this.addControl(this.fullscreenControl)),"onfullscreenchange"in document?e="fullscreenchange":"onmozfullscreenchange"in document?e="mozfullscreenchange":"onwebkitfullscreenchange"in document?e="webkitfullscreenchange":"onmsfullscreenchange"in document&&(e="MSFullscreenChange"),e){var t=r.bind(this._onFullscreenChange,this);this.whenReady((function(){r.DomEvent.on(document,e,t)})),this.on("unload",(function(){r.DomEvent.off(document,e,t)}))}})),void(r.control.fullscreen=function(e){return new r.Control.Fullscreen(e)}))}()},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(9),s=n.n(c),o=(n(34),n(2)),i=n.n(o),l=n(3),u=n(4),d=(n(36),n(29)),h=["athlete"],j=59766,f="b7893c2f78225337f8ac6852e5c2fe313948c8f7",b="SportSeasonStravaTokenData",m="SportSeasonStravaUserData";function v(){var e={client_id:j,redirect_uri:window.location.origin,response_type:"code",approval_prompt:"auto",scope:"activity:read"},t=new URLSearchParams(e);return"https://www.strava.com/oauth/authorize?".concat(t.toString())}function p(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem(b))||!t.length){e.next=20;break}if(!((n=JSON.parse(t)).expires_at&&1e3*n.expires_at>Date.now())){e.next=5;break}return e.abrupt("return",n.access_token);case 5:if(!n.refresh_token){e.next=17;break}return e.prev=6,e.next=9,fetch("https://www.strava.com/api/v3/oauth/token",{body:new URLSearchParams({client_id:j,client_secret:f,refresh_token:n.refresh_token,grant_type:"refresh_token"}).toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then((function(e){return e.json()}));case 9:return r=e.sent,localStorage.setItem(b,JSON.stringify(r)),e.abrupt("return",r.access_token);case 14:throw e.prev=14,e.t0=e.catch(6),new Error(e.t0);case 17:throw new Error("no token");case 20:throw new Error("no stored token data");case 21:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function _(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.strava.com/api/v3/oauth/token",{body:new URLSearchParams({client_id:j,client_secret:f,code:t,grant_type:"authorization_code"}).toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then((function(e){return e.json()}));case 3:return n=e.sent,console.log({result:n}),r=n.athlete,a=Object(d.a)(n,h),localStorage.setItem(m,JSON.stringify(r)),localStorage.setItem(b,JSON.stringify(a)),e.abrupt("return",n.access_token);case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function g(){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.prev=1,e.next=4,fetch("https://www.strava.com/oauth/deauthorize?".concat(new URLSearchParams({access_token:""}).toString()),{method:"POST"}).then((function(e){return e.json()}));case 4:return localStorage.clear(),e.abrupt("return",Promise.resolve({success:!0}));case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function y(){return JSON.parse(localStorage.getItem(m))}var D=n(15),k=n.n(D),S=n(0),C=function(e){var t=y();return Object(S.jsxs)("div",{className:k.a.prof,children:[Object(S.jsx)("img",{src:t.profile_medium,className:k.a.ava}),Object(S.jsxs)("div",{className:k.a.name,children:[t.lastname,Object(S.jsx)("strong",{children:t.firstname})]})]})},F=n(14),B=n(6),N=n(7),E=n(11),T=n.n(E),A=n(28),R=n(22),P=n(23),z=n(27),L=new(function(){function e(t,n){Object(R.a)(this,e),this.isReady=!1}return Object(P.a)(e,[{key:"init",value:function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.a)(t,n,{upgrade:function(e){e.createObjectStore("activities",{keyPath:"id"}).createIndex("start_date","start_date")}});case 2:this.db=e.sent,this.isReady=!0;case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addActivities",value:function(e){var t=this.db.transaction("activities","readwrite");t.objectStore("activities");return Array.isArray(e)?Promise.all([].concat(Object(A.a)(e.map((function(e){return t.store.add(e)}))),[t.done])):t.add("activities",e)}},{key:"getAllActivity",value:function(){return this.db.transaction("activities").objectStore("activities").getAll()}},{key:"clear",value:function(){return this.db.transaction("activities","readwrite").objectStore("activities").clear()}}]),e}());function M(e,t,n){return I.apply(this,arguments)}function I(){return(I=Object(l.a)(i.a.mark((function e(t,n,r){var a,c,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:1,c=s.length>4&&void 0!==s[4]?s[4]:100,e.next=4,fetch("https://www.strava.com/api/v3/athlete/activities?before=".concat(r,"&after=").concat(n,"&page=").concat(a,"&per_page=").concat(c),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"-";var n=e>1e3?[parseFloat(e/1e3).toFixed(2),"\u043a\u043c"]:[parseFloat(e).toFixed(2),"\u043c"];return t?n:n.join("\u202f")}var J=n(20),W=n.n(J),Y=function(e){var t=e.activity,n=Date.parse(t.start_date_local)-1e3*t.utc_offset,r=new Date(n),a=new Date(n+1e3*t.elapsed_time),c=new Date(1e3*(t.moving_time-t.utc_offset));return Object(S.jsxs)("a",{href:"https://www.strava.com/activities/".concat(t.id),rel:"noreferrer",target:"_blank",className:W.a.item,children:[Object(S.jsxs)("div",{className:W.a.row,children:[Object(S.jsx)("strong",{children:t.name}),Object(S.jsx)("strong",{children:U(t.distance)})]}),Object(S.jsxs)("small",{children:[r.toLocaleString().substr(0,17),"-",r.toLocaleDateString()!==a.toLocaleDateString()&&a.toLocaleDateString(),a.toLocaleTimeString().substr(0,5),", \u0432 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0438: ",c.toLocaleTimeString().substr(0,5)]}),Object(S.jsx)("br",{}),"\u0412\u044b\u0441\u043e\u0442\u0430 \u043c\u0430\u043a\u0441: ",t.elev_high,", \u043c\u0438\u043d: ",t.elev_low,";"," ",t.average_heartrate&&Object(S.jsxs)(S.Fragment,{children:["\u041f\u0443\u043b\u044c\u0441: \u0441\u0440\u0435\u0434\u043d: ",t.average_heartrate,", \u043c\u0430\u043a\u0441: ",t.max_heartrate,";"]})," ","\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c ",t.average_speed,";"]})};var H,q=n(8),V=n.n(q),Z=Object(r.createContext)(null),G=n(5),X=n.n(G),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;return clearTimeout(H),new Promise((function(t){H=setTimeout((function(){return t()}),e)}))},Q=n(21),$=n.n(Q),ee=function(e){var t=e.children,n=e.onClose;return Object(r.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow=""}}),[]),Object(S.jsx)("div",{className:$.a.overlay,onClick:n,children:Object(S.jsx)("div",{className:$.a.modal,onClick:function(e){return e.stopPropagation()},children:"function"===typeof t?t(n):t})})},te=function(e){var t=document.createElement("div");document.body.appendChild(t),c.render(Object(S.jsx)(ee,Object(B.a)(Object(B.a)({},e),{},{onClose:function(){c.unmountComponentAtNode(t),document.body.removeChild(t)}})),t)},ne=function(e){return"".concat(["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"][e.getMonth()].toUpperCase(),"'").concat(e.getFullYear().toString().substr(-2))},re=function(e){var t=e.activities,n=Object(r.useState)(+localStorage.getItem("stravastatZoom")||16),a=Object(u.a)(n,2),c=a[0],s=a[1];if(Object(r.useEffect)(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.setItem("stravastatZoom",c));case 1:case"end":return e.stop()}}),e)}))),[c]),!t[0])return"\ud83d\udc31\u200d\ud83d\ude80";for(var o=new Date(Date.parse(t[0].start_date)),d=new Date(Date.parse(t[t.length-1].start_date)+864e5),h=0===o.getDay()?6:o.getDay()-1,j=[],f=[],b=o.getTime(),m=0;b<d.getTime();){var v=t.filter((function(e){return new Date(Date.parse(e.start_date)).toISOString().substr(0,10)===new Date(b).toISOString().substr(0,10)}));6===new Date(b).getDay()&&(m+=1),new Date(b).getMonth()!==new Date(b+864e5).getMonth()&&(f.push({m:ne(new Date(b)),w:m}),m=0),j.push({date:b,cou:v.length,acts:v,dist:v.reduce((function(e,t){return t.distance+e}),0)}),b+=864e5}f.push({m:ne(new Date(b)),w:m}),m=0;var p=j.filter((function(e){return e.dist>0}));if(!(null===p||void 0===p?void 0:p.length))return null;var x=p.reduce((function(e,t){return e.dist>t.dist?e.dist:t.dist})),_=function(e){return Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(100);case 2:s((function(t){return t+e}));case 3:case"end":return t.stop()}}),t)})))};return Object(S.jsxs)("section",{className:X.a.chartSection,children:[Object(S.jsxs)("header",{className:X.a.chartSectionHeader,children:[Object(S.jsx)("h3",{children:"\u041a\u0430\u0440\u0442\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"}),Object(S.jsxs)("div",{children:[c>16&&Object(S.jsx)("button",{onClick:_(-2),children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-zoom-out",viewBox:"0 0 16 16",children:[Object(S.jsx)("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),Object(S.jsx)("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}),Object(S.jsx)("path",{fillRule:"evenodd",d:"M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"})]})}),Object(S.jsx)("button",{onClick:_(2),children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-zoom-in",viewBox:"0 0 16 16",children:[Object(S.jsx)("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),Object(S.jsx)("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}),Object(S.jsx)("path",{fillRule:"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"})]})})]})]}),Object(S.jsxs)("div",{className:X.a.chart,style:{fontSize:c+"px"},children:[Object(S.jsxs)("div",{className:X.a.daysName,children:[Object(S.jsx)("div",{children:Object(S.jsx)("small",{children:"\u043f\u043d"})}),Object(S.jsx)("div",{children:Object(S.jsx)("small",{children:"\u0432\u0442"})}),Object(S.jsx)("div",{children:Object(S.jsx)("small",{children:"\u0441\u0440"})}),Object(S.jsx)("div",{children:Object(S.jsx)("small",{children:"\u0447\u0442"})}),Object(S.jsx)("div",{children:Object(S.jsx)("small",{children:"\u043f\u0442"})}),Object(S.jsx)("div",{children:Object(S.jsx)("small",{children:"\u0441\u0431"})}),Object(S.jsx)("div",{children:Object(S.jsx)("small",{children:"\u0432\u0441"})})]}),Object(S.jsxs)("div",{className:X.a.main,children:[Object(S.jsx)("div",{className:X.a.monthsBar,children:f.map((function(e){return Object(S.jsx)("div",{className:X.a.month+" "+X.a["m"+e.w],children:Object(S.jsx)("small",{children:e.m})},e.m)}))}),Object(S.jsxs)("div",{className:X.a.container,children:[h>0&&new Array(h).fill(!0).map((function(e,t){return Object(S.jsx)("div",{className:X.a.empty_point},t)})),j.map((function(e,t){return Object(S.jsx)("div",{title:new Date(e.date),className:e.cou>0?X.a.point:X.a.empty_point,style:e.dist>0?{backgroundColor:"rgba(252,82,0,".concat(e.dist/x,")")}:{},onClick:e.dist>0?function(){return function(e){te({children:Object(S.jsx)("div",{children:e.acts.map((function(e){return Object(S.jsx)(Y,{activity:e},e.id)}))})})}(e)}:function(){},children:Object(S.jsx)("small",{children:new Date(e.date).getDate()})},e.date)}))]})]})]})]})},ae=n(16),ce=n.n(ae),se=function(e){var t=e.title,n=e.children,r=e.unit;return Object(S.jsxs)("div",{className:ce.a.card,children:[Object(S.jsx)("h3",{className:ce.a.cardTitle,children:t}),Object(S.jsxs)("div",{className:ce.a.cardContent,children:[n,r&&Object(S.jsxs)(S.Fragment,{children:["\u2009",Object(S.jsx)("small",{children:r})]})]})]})},oe=n(24),ie=n.n(oe),le=function(e){var t=e.distance,n=e.elev_high,r=e.elev_low,a=e.moving_time,c=U(t,!0),s=Object(u.a)(c,2),o=s[0],i=s[1],l=U(n,!0),d=Object(u.a)(l,2),h=d[0],j=d[1],f=U(r,!0),b=Object(u.a)(f,2),m=b[0],v=b[1];return Object(S.jsxs)("section",{className:ie.a.widgetContainer,children:[Object(S.jsx)(se,{title:"\u0414\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u044f",unit:i,children:o}),Object(S.jsx)(se,{title:"\u041d\u0430\u0431\u043e\u0440",unit:j,children:h}),Object(S.jsx)(se,{title:"\u0421\u0431\u0440\u043e\u0441",unit:v,children:m}),Object(S.jsx)(se,{title:"\u0412 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0438",unit:"\u0447",children:(a/60/60).toFixed(2)})]})},ue=n(25),de=n.n(ue),he=function(){return Object(S.jsxs)("div",{className:de.a.loader,children:[Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{})]})},je=(n(38),n(39),n(40),n.p+"static/media/long-512_orange.6e6363f9.png"),fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stravastat",n='\n<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n<gpx xmlns="http://www.topografix.com/GPX/1/1" creator="https://stravastat.github.io" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd" version="1.1">\n    <metadata>\n        <time>2021-09-15T19:05:49.078Z</time>\n    </metadata>\n    <trk>\n        <name>'.concat(t,"</name>\n        <trkseg>\n            ").concat(e.map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return'<trkpt lat="'.concat(n,'" lon="').concat(r,'"><time>1970-01-01T00:00:01.000Z</time></trkpt>')})).join("\r\n"),"\n        </trkseg>\n    </trk>\n</gpx>"),r="data:application/gpx+xml;charset=utf-8,"+n.trim();return r},be=function(e){var t=e.map.summary_polyline,n=document.createElement("div");n.innerText="".concat(new Date(Date.parse(e.start_date_local)-1e3*e.utc_offset).toLocaleString(),"\n                    ").concat(e.name," (").concat(U(e.distance),")");var r=document.createElement("footer");if(r.style.marginTop="12px",null===t||void 0===t?void 0:t.length){var a=document.createElement("button");if(a.innerText="\u21e9 GPX",a.style.marginRight="10px",a.onclick=function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stravastat",n=fe(e,t),r=document.createElement("a");r.download="".concat(t,".gpx"),r.href=n,r.click()}(T.a.decode(t),"".concat(e.name," ").concat(U(e.distance)))},r.appendChild(a),window.navigator.canShare){var c=document.createElement("button");c.innerText="Share",c.style.marginRight="10px",c.onclick=function(){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stravastat";return fetch(fe(e,t)).then((function(e){return e.blob()})).then((function(e){return new File([e],t+".txt",{type:"text/plain"})}))})(T.a.decode(t),"".concat(e.name," ").concat(U(e.distance))).then((function(t){var n={files:[t]};navigator.canShare&&navigator.canShare(n)?(n.title="".concat(e.name," ").concat(U(e.distance)),console.log(n),navigator.share(n).then((function(){return console.log("Share was successful.")})).catch((function(e){return console.log("Sharing failed",e)}))):console.log("Your system doesn't support sharing files.")}))},r.appendChild(c)}}var s=document.createElement("a");return s.href="https://www.strava.com/activities/".concat(e.id),s.rel="noreferrer",s._target="_blank",s.innerText="\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 Strava",r.appendChild(s),n.appendChild(r),n},me=new Date,ve=new Date(me.getFullYear(),0,1,4,0,0,1),pe=new Date(me.getFullYear(),11,31,23,59,59,999),xe="2007-01-01",_e=function(e){var t=e.token,n=Object(r.useState)(localStorage.getItem("stravastatD1")||ve.toISOString().substr(0,10)),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(localStorage.getItem("stravastatD2")||pe.toISOString().substr(0,10)),d=Object(u.a)(o,2),h=d[0],j=d[1],f=Object(r.useState)([]),b=Object(u.a)(f,2),m=b[0],v=b[1],p=Object(r.useState)(!1),x=Object(u.a)(p,2),_=x[0],O=x[1],g=Object(r.useState)(localStorage.getItem("stravastatType")||""),w=Object(u.a)(g,2),y=w[0],D=w[1],k=Object(r.useState)(null),C=Object(u.a)(k,2),E=C[0],A=C[1],R=Object(r.useRef)(),P=Object(r.useRef)();Object(r.useContext)(Z);Object(r.useEffect)((function(){L.getAllActivity().then((function(e){console.log("activities",{res:e}),A(e),e.length||W(!0)}))}),[W]),Object(r.useEffect)((function(){return localStorage.setItem("stravastatD1",c)}),[c]),Object(r.useEffect)((function(){return localStorage.setItem("stravastatD2",h)}),[h]),Object(r.useEffect)((function(){return localStorage.setItem("stravastatType",y)}),[y]),Object(r.useEffect)((function(){(null===E||void 0===E?void 0:E.length)&&v(E.reduce((function(e,t){var n=t.type;return Object(B.a)(Object(B.a)({},e),{},Object(F.a)({},n,(e[n]||0)+1))}),{}))}),[E]),Object(r.useEffect)((function(){if(null===P||void 0===P?void 0:P.current){(null===R||void 0===R?void 0:R.current)||(R.current=N.map(P.current,{fullscreenControl:{pseudoFullscreen:!1}}).setView([53.20066,45.00464],12),N.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:' | <a href="http://openstreetmap.org">OpenStreetMap</a> | <b><a href="https://stravastat.github.io">stravastat.github.io</a></b>',maxZoom:20,id:"osm"}).addTo(R.current),N.Control.Watermark=N.Control.extend({onAdd:function(e){var t=N.DomUtil.create("img");return t.src=je,t.style.height="24px",t.style.opacity="0.64",t},onRemove:function(e){}}),N.control.watermark=function(e){return new N.Control.Watermark(e)},N.control.watermark({position:"bottomleft"}).addTo(R.current));var e,t=[];(e=R.current).eachLayer((function(t){var n=!(t.getAttribution&&t.getAttribution()),r=!t.getAttribution;(n||r)&&e.removeLayer(t)}));var n=E&&E.filter((function(e){var t=Date.parse(e.start_date_local),n=Date.parse(c),r=Date.parse(h);return(!y||e.type===y)&&t>=n&&t<=r}));null===n||void 0===n||n.forEach((function(e){var n=e.map.summary_polyline;if(null===n||void 0===n?void 0:n.length){var r=T.a.decode(n);N.polyline(r).setStyle({color:"rgba(255, 0, 0,0.5)"}).bindPopup(be(e)).addTo(R.current),t.push(r)}}));var r=N.latLngBounds(t);(null===t||void 0===t?void 0:t.length)&&R.current.fitBounds(r)}}),[P,E,y,c,h]);var z=E&&E.filter((function(e){var t=Date.parse(e.start_date_local),n=Date.parse(c),r=Date.parse(h);return(!y||e.type===y)&&t>=n&&t<=r})),I=null===z||void 0===z?void 0:z.reduce((function(e,t){return{distance:e.distance+t.distance,elev_high:e.elev_high+t.elev_high||0,elev_low:e.elev_low+t.elev_low||0,elapsed_time:e.elapsed_time+t.elapsed_time,moving_time:e.moving_time+t.moving_time}}),{distance:0,elev_high:0,elev_low:0,elapsed_time:0,moving_time:0}),U=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,K();case 3:s(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,K();case 3:j(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(r.useCallback)(Object(l.a)(i.a.mark((function e(){var n,r,a,c,s,o,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>0&&void 0!==l[0]&&l[0],O(!0),c=(null===(n=a=E)||void 0===n?void 0:n.length)?new Date(Date.parse(a[a.length-1].start_date)):new Date(Date.parse(xe)),s=0;case 5:if(!(0===s||(null===(o=a)||void 0===o?void 0:o.length)>0)){e.next=17;break}return s++,console.log("page",s),e.next=10,M(t,Math.floor(c.getTime()/1e3),Math.floor((new Date).getTime()/1e3),s,50);case 10:return a=e.sent,console.time("addDB"),e.next=14,L.addActivities(a).catch((function(e){return console.error(e)}));case 14:console.timeEnd("addDB"),e.next=5;break;case 17:r&&window.location.reload(),O(!1);case 19:case"end":return e.stop()}}),e)}))),[E,t]);return _&&!(null===E||void 0===E?void 0:E.length)?Object(S.jsxs)("div",{className:V.a.loader,children:[Object(S.jsx)(he,{}),Object(S.jsxs)("p",{align:"center",children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",Object(S.jsx)("br",{}),"\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439"]})]}):Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{className:V.a.floatButton,disabled:_,onClick:W,children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(S.jsx)("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),Object(S.jsx)("path",{d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})]})}),Object(S.jsxs)("div",{className:V.a.form,children:[Object(S.jsxs)("div",{className:V.a.dates,children:[Object(S.jsx)("input",{type:"date",value:c,min:xe,max:h.substr(0,10),onChange:U}),"-",Object(S.jsx)("input",{type:"date",value:h,min:c.substr(0,10),max:(new Date).toISOString().substr(0,10),onChange:J})]})," \xa0 ",Object(S.jsxs)("select",{onChange:function(e){return D(e.target.value)},value:y,children:[Object(S.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u0432\u0438\u0434\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439"}),m&&Object.entries(m).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(S.jsxs)("option",{value:n,children:[n," (",r,")"]},n)}))]})]}),I&&Object(S.jsx)(le,{distance:I.distance,elev_high:I.elev_high,elev_low:I.elev_low,moving_time:I.moving_time}),(null===z||void 0===z?void 0:z.length)>0&&Object(S.jsx)(re,{activities:z}),!E&&Object(S.jsx)("div",{className:V.a.loader,children:Object(S.jsx)(he,{})}),z&&Object(S.jsx)("div",{ref:P,style:{height:"300px"}}),"\xa0",Object(S.jsx)("button",{onClick:function(){return function(e,t){var n=new Blob([JSON.stringify(t)],{type:"text/json"}),r=document.createElement("a");r.download=e,r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/json",r.download,r.href].join(":");var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});r.dispatchEvent(a),r.remove()}("stravastat_data.json",E)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 JSON"}),"\xa0",Object(S.jsx)("button",{onClick:function(){return function(e,t){var n=new Blob([t.map((function(e){return e.join(",\t")})).join("\r\n")],{type:"text/json"}),r=document.createElement("a");r.download=e,r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/csv",r.download,r.href].join(":");var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});r.dispatchEvent(a),r.remove()}("stravastat_data.csv",E.map((function(e){var t=e.name,n=e.start_date_local;return[t.trim(),n]})))},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 CSV"}),Object(S.jsx)("section",{children:z&&z.map((function(e){return Object(S.jsx)(Y,{activity:e},e.id)}))})]})},Oe=n(26),ge=n.n(Oe),we=function(e){var t=e.children,n=e.className;return Object(S.jsx)("section",{className:[ge.a.fullScreen,n].join(" "),children:t})},ye=function(){return Object(S.jsx)(we,{children:Object(S.jsxs)("p",{align:"center",children:["\u042d\u0442\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043a\u0430\u0436\u0435\u0442",Object(S.jsx)("br",{}),"\u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0432\u0430\u0448\u0438\u0445 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439",Object(S.jsx)("br",{}),"\u0432 \u043d\u043e\u0432\u043e\u043c \u0432\u0438\u0434\u0435 \ud83d\ude0e",Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),"\u0414\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u043d\u0443\u0436\u043d\u043e",Object(S.jsx)("br",{}),Object(S.jsx)("button",{className:"bigButton",onClick:function(){return window.location.href=v()},children:"\u0412\u043e\u0439\u0442\u0438 \u0432 Strava"})]})})},De=n(12),ke=n.n(De),Se=n(17),Ce=n.n(Se),Fe=function(e){var t=e.onClose;return Object(S.jsxs)("div",{className:Ce.a.menu,children:[Object(S.jsxs)("header",{className:Ce.a.header,children:[Object(S.jsx)("strong",{children:"STRAVASTAT"}),Object(S.jsx)("button",{onClick:t,children:"\xd7"})]}),Object(S.jsx)("section",{className:Ce.a.content,children:Object(S.jsx)("iframe",{src:"https://yoomoney.ru/quickpay/shop-widget?writer=seller&targets=%D0%9D%D0%B0%20%D0%BA%D0%BE%D1%84%D0%B5%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D1%83%20%E2%98%95&targets-hint=&default-sum=55&button-text=12&comment=on&hint=%D0%B8%D0%BB%D0%B8%20%D0%B8%D0%B4%D0%B5%D1%8F%20%D0%B4%D0%BB%D1%8F%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D1%8F%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0&successURL=https%3A%2F%2Fstravastat.github.io%2F%23thanksForDonation&quickpay=shop&account=410011057543275",width:"100%",height:"314",frameBorder:"0",scrolling:"no"})})]})},Be=function(e){var t=e.onClose,n=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043b\u043e\u0433\u0438\u043d\u0435\u043d\u043e, \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b. \r\n\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?")){e.next=2;break}return e.abrupt("return");case 2:return t.target.disabled=!0,e.next=5,g();case 5:return e.next=7,L.clear();case 7:window.location.reload();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:ke.a.menu,children:[Object(S.jsxs)("header",{className:ke.a.header,children:[Object(S.jsx)("strong",{children:"STRAVASTAT"}),Object(S.jsx)("button",{onClick:t,children:"\xd7"})]}),Object(S.jsxs)("section",{className:ke.a.content,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:Object(S.jsx)("b",{children:"\u0421\u0435\u0440\u0432\u0438\u0441 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a Strava"})}),Object(S.jsxs)("p",{children:["\u041c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f:",Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{children:["\u041a\u0430\u043a \u0432\u0435\u0431-\u0441\u0430\u0439\u0442 ",Object(S.jsx)("a",{href:"https://stravastat.github.io/",target:"_blank",children:"stravastat.github.io"})," \u043d\u0430 \u043b\u044e\u0431\u043e\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435"]}),Object(S.jsxs)("li",{children:["\u041a\u0430\u043a \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u043e\u0435 \u0432\u0435\u0431 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 (PWA) \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c\u043e\u0435 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0441\u0442\u0432\u043e (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441\u043c\u0430\u0440\u0442\u0444\u043e\u043d \u043d\u0430 android)",Object(S.jsx)("br",{}),Object(S.jsxs)("small",{children:["\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441 \u0441\u0430\u0439\u0442\u0430 ",Object(S.jsx)("a",{href:"https://stravastat.github.io/",target:"_blank",children:"stravastat.github.io"})," \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0432 ",Object(S.jsx)("b",{children:"Stravastat"})," \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 "]})]})]})]}),Object(S.jsxs)("p",{children:["\u0421\u0435\u0440\u0432\u0438\u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044f\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",Object(S.jsx)("a",{href:"https://www.strava.com/",target:"_blank",children:"www.strava.com"})]}),Object(S.jsxs)("p",{children:["\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u043f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u0430\u0436\u0435 ",Object(S.jsx)("b",{children:"offline"})," ",Object(S.jsx)("br",{}),Object(S.jsxs)("small",{children:["\u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f ",Object(S.jsx)("a",{href:"https://osmand.net/ru/",target:"_blank",children:"osmand"})," \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0442\u0440\u0435\u043a\u0438 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a \u043d\u0430 \u043a\u0430\u0440\u0442\u0435 \u0431\u0435\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"]})]}),Object(S.jsxs)("p",{children:["Based on API ",Object(S.jsx)("a",{href:"https://www.strava.com/",target:"_blank",children:"strava"})," and ",Object(S.jsx)("a",{href:"https://www.openstreetmap.org/",target:"_blank",children:"openstreetmap"})]})]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(){te({children:function(e){return Object(S.jsx)(Fe,{onClose:e})}})},children:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u2615"})})]}),Object(S.jsxs)("footer",{className:ke.a.footer,children:[Object(S.jsx)("button",{onClick:n,style:{backgroundColor:"#adadad",borderColor:"#777777"},children:"\u0412\u044b\u0439\u0442\u0438"}),"2021 ",Object(S.jsxs)("p",{children:["\xa9 Created by ",Object(S.jsx)("a",{href:"https://www.strava.com/athletes/12602406",target:"_blank",children:"Fedoseev Nikolay"})]})]})]})};var Ne=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),s=Object(u.a)(c,2),o=s[0],d=s[1],h=Object(r.useState)(!0),j=Object(u.a)(h,2),f=j[0],b=j[1],m=Object(r.useState)(null),x=Object(u.a)(m,2),O=x[0],g=x[1];return Object(r.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("code");if(null===e||void 0===e?void 0:e.length)return function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,_(e);case 4:window.history.pushState({},"","/"),window.location.reload(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),g(t.t0.message),window.location.href=v();case 12:return t.prev=12,d(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})));return function(){return t.apply(this,arguments)}}()();(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,p();case 4:t=e.sent,a(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){b(!0),L.init("stravastat",1).then((function(){})).catch((function(){return g("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0411\u0414")})).finally((function(){return b(!1)}))}),[]),o||f?Object(S.jsx)(we,{children:Object(S.jsx)(he,{})}):Object(S.jsxs)("div",{className:"App",children:[O&&Object(S.jsx)("p",{children:O}),n&&Object(S.jsxs)(Z.Provider,{value:y(),children:[Object(S.jsxs)("header",{className:"header",children:[Object(S.jsx)(C,{}),Object(S.jsx)("button",{onClick:function(){te({children:function(e){return Object(S.jsx)(Be,{onClose:e})}})},children:"\u2630"})]}),Object(S.jsx)(_e,{token:n})]}),!n&&Object(S.jsx)(ye,{})]})},Ee=n(18),Te=n.n(Ee),Ae=function(e){var t=e.onClose;return Object(S.jsxs)("div",{className:Te.a.menu,children:[Object(S.jsx)("header",{className:Te.a.header,children:Object(S.jsx)("strong",{children:"STRAVASTAT"})}),Object(S.jsxs)("section",{className:Te.a.content,children:[Object(S.jsx)("h2",{children:"\u041f\u0430\u0441\u0438\u0431 \ud83d\ude0a"}),Object(S.jsx)("button",{onClick:function(){window.location.hash="",t()},children:"\u041a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e"})]})]})};s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(Ne,{})}),document.getElementById("root")),window.onload=function(){"#thanksForDonat"===window.location.hash&&te({children:function(e){return Object(S.jsx)(Ae,{onClose:e})}})}}],[[41,1,2]]]);
//# sourceMappingURL=main.ae5b192c.chunk.js.map